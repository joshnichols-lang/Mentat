@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========== ULTRA-MINIMAL DARK MODE (Pure Black) ========== */
.dark {
  /* Pure black background - absolute minimal design */
  --background: 0 0% 0%;           /* #000000 - Pure black */
  --foreground: 0 0% 98%;          /* #FAFAFA - Soft white */
  
  /* Surface levels - barely visible elevation */
  --card: 0 0% 4%;                 /* #0A0A0A - Subtle panel */
  --card-foreground: 0 0% 98%;
  --popover: 0 0% 4%;
  --popover-foreground: 0 0% 98%;
  
  /* Borders - extremely subtle */
  --border: 0 0% 8%;               /* #141414 - Barely visible */
  --input: 0 0% 4%;                /* #0A0A0A - Input background */
  
  /* Interactive states - lime accent */
  --primary: 123 100% 50%;         /* #00FF41 - Electric lime */
  --primary-foreground: 0 0% 0%;   /* Black text on lime */
  
  --secondary: 0 0% 8%;            /* #141414 - Dark grey surface */
  --secondary-foreground: 0 0% 98%;
  
  --muted: 0 0% 8%;
  --muted-foreground: 0 0% 45%;    /* #737373 - Mid grey text */
  
  --accent: 0 0% 12%;              /* #1F1F1F - Subtle accent surface */
  --accent-foreground: 0 0% 98%;
  
  /* Text hierarchy - 3 levels only */
  --text-primary: 0 0% 98%;        /* #FAFAFA - Most important */
  --text-secondary: 0 0% 65%;      /* #A6A6A6 - Supporting */
  --text-tertiary: 0 0% 45%;       /* #737373 - Metadata */
  
  /* Trading status colors - lime and crimson */
  --success: 123 100% 50%;         /* #00FF41 - Electric lime */
  --success-foreground: 0 0% 0%;
  
  --destructive: 348 83% 47%;      /* #DC143C - Crimson */
  --destructive-foreground: 0 0% 100%;
  
  --warning: 45 100% 51%;          /* #FFC107 - Amber */
  --warning-foreground: 0 0% 0%;
  
  /* Chart colors - minimal palette */
  --chart-1: 123 100% 50%;         /* #00FF41 - Lime */
  --chart-2: 348 83% 47%;          /* #DC143C - Crimson */
  --chart-3: 0 0% 65%;             /* #A6A6A6 - Grey */
  --chart-4: 0 0% 45%;             /* #737373 - Dark grey */
  --chart-5: 0 0% 25%;             /* #404040 - Darker grey */
  
  /* Elevation - lime glow on hover */
  --elevate-1: rgba(0, 255, 65, 0.05);
  --elevate-2: rgba(0, 255, 65, 0.10);
  
  /* Typography - Inter for UI, IBM Plex Mono for numbers */
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-serif: 'Inter', sans-serif;
  --font-mono: 'IBM Plex Mono', 'Consolas', 'Monaco', monospace;
  
  /* Spacing - 8px grid system */
  --spacing-1: 0.5rem;            /* 8px */
  --spacing-2: 1rem;              /* 16px */
  --spacing-3: 1.5rem;            /* 24px */
  --spacing-4: 2rem;              /* 32px */
  --spacing-6: 3rem;              /* 48px */
  --spacing-8: 4rem;              /* 64px */
  
  /* Border radius - ultra-minimal */
  --radius: 0.25rem;              /* 4px - very subtle */
  
  /* Shadows - ultra-subtle, almost invisible */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.8);
  --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.7), 0 1px 2px -1px rgba(0, 0, 0, 0.6);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.7), 0 2px 4px -2px rgba(0, 0, 0, 0.6);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.8), 0 4px 6px -4px rgba(0, 0, 0, 0.7);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.9), 0 8px 10px -6px rgba(0, 0, 0, 0.8);
  
  /* Ring for focus states */
  --ring: 0 0% 100%;
}

/* ========== LIGHT MODE ========== */
.light {
  /* Clean white backgrounds */
  --background: 0 0% 100%;         /* #FFFFFF - Pure white */
  --foreground: 240 4% 6%;         /* #0B0B0F - Deep dark text */
  
  /* Surface levels */
  --card: 0 0% 98%;                /* #FAFAFA - Slightly recessed */
  --card-foreground: 240 4% 6%;
  --popover: 0 0% 98%;
  --popover-foreground: 240 4% 6%;
  
  /* Borders - minimal and subtle */
  --border: 0 0% 92%;              /* #EBEBEB - Subtle divider */
  --input: 0 0% 96%;               /* #F5F5F5 - Input background */
  
  /* Interactive states - minimal color, mostly grey */
  --primary: 0 0% 30%;             /* #4D4D4D - Dark grey (was green) */
  --primary-foreground: 0 0% 100%; /* White text on dark grey */
  
  --secondary: 0 0% 96%;           /* #F5F5F5 - Light grey */
  --secondary-foreground: 240 4% 6%;
  
  --muted: 0 0% 96%;
  --muted-foreground: 0 0% 39%;    /* #646466 - Mid grey text */
  
  --accent: 0 0% 90%;              /* #E6E6E6 - Light grey accent (was green) */
  --accent-foreground: 240 4% 6%;
  
  /* Text hierarchy - grey scales */
  --text-primary: 240 4% 6%;       /* #0B0B0F - Most important */
  --text-secondary: 0 0% 39%;      /* #646466 - Supporting */
  --text-tertiary: 0 0% 55%;       /* #8B8B8D - Metadata */
  
  /* Trading status colors - bright accents */
  --success: 150 100% 39%;         /* #00C864 - Green */
  --success-foreground: 0 0% 100%;
  
  --destructive: 343 100% 62%;     /* #FF3B69 - Bright red/pink */
  --destructive-foreground: 0 0% 100%;
  
  --warning: 45 100% 51%;          /* #FFC107 - Amber */
  --warning-foreground: 240 4% 6%;
  
  /* Chart colors */
  --chart-1: 150 100% 39%;         /* #00C864 - Green */
  --chart-2: 343 100% 62%;         /* #FF3B69 - Red/pink */
  --chart-3: 217 91% 60%;          /* #3B82F6 - Blue */
  --chart-4: 0 0% 55%;             /* #8B8B8D - Grey */
  --chart-5: 0 0% 39%;             /* #646466 - Dark grey */
  
  /* Elevation - subtle black overlays for hover states */
  --elevate-1: rgba(0, 0, 0, 0.03);
  --elevate-2: rgba(0, 0, 0, 0.06);
  
  /* Typography - IBM Plex Mono everywhere */
  --font-sans: 'IBM Plex Mono', monospace;
  --font-serif: 'IBM Plex Mono', monospace;
  --font-mono: 'IBM Plex Mono', monospace;
  
  /* Border radius - minimal */
  --radius: 0.5rem;               /* 8px */
  
  /* Shadows - subtle */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.05);
  
  /* Ring for focus states */
  --ring: 0 0% 0%;
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans);
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  
  /* Typography presets */
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold tracking-tight;
  }
  
  /* Monospace for numbers */
  .font-mono {
    font-family: var(--font-mono);
    font-feature-settings: "zero" 1, "ss01" 1;
  }
}

@layer utilities {
  /* ========== SUBTLE ANIMATION UTILITIES ========== */
  
  /* Hover elevation - subtle scale and highlight */
  .hover-elevate {
    @apply transition-all duration-200 ease-out;
    will-change: transform, background-color;
  }
  
  .hover-elevate:hover {
    @apply scale-[1.01];
    background-color: color-mix(in srgb, var(--elevate-1), transparent);
  }
  
  /* Active press - subtle scale down */
  .active-press {
    @apply transition-transform duration-150 ease-out;
  }
  
  .active-press:active {
    @apply scale-[0.98];
  }
  
  /* Smooth fade in */
  .fade-in {
    animation: fadeIn 200ms ease-out;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  /* Smooth slide up */
  .slide-up {
    animation: slideUp 250ms ease-out;
  }
  
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* Shimmer loading effect */
  .shimmer {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.03) 50%,
      transparent 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }
  
  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }
  
  /* Pulse highlight for data updates */
  .pulse-highlight {
    animation: pulseHighlight 300ms ease-out;
  }
  
  @keyframes pulseHighlight {
    0% { background-color: transparent; }
    50% { background-color: var(--elevate-1); }
    100% { background-color: transparent; }
  }
  
  /* Smooth number transitions */
  .number-transition {
    @apply transition-all duration-300 ease-out;
  }
  
  /* ========== DATA VISUALIZATION UTILITIES ========== */
  
  /* Arc gauge stroke animation */
  .arc-animate {
    stroke-dasharray: 0 100;
    animation: arcDraw 800ms ease-out forwards;
  }
  
  @keyframes arcDraw {
    to {
      stroke-dasharray: var(--arc-value, 75) 100;
    }
  }
  
  /* Chart line drawing */
  .chart-draw {
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
    animation: draw 1s ease-out forwards;
  }
  
  @keyframes draw {
    to {
      stroke-dashoffset: 0;
    }
  }
  
  /* Heatmap cell animation */
  .heatmap-cell {
    @apply transition-all duration-200 ease-out;
  }
  
  .heatmap-cell:hover {
    @apply scale-110 z-10;
  }
  
  /* ========== TEXT HIERARCHY UTILITIES ========== */
  
  .text-primary {
    color: hsl(var(--text-primary));
  }
  
  .text-secondary {
    color: hsl(var(--text-secondary));
  }
  
  .text-tertiary {
    color: hsl(var(--text-tertiary));
  }
  
  /* ========== TRADING-SPECIFIC UTILITIES ========== */
  
  /* Positive/Long */
  .text-long {
    color: hsl(var(--success));
  }
  
  .bg-long {
    background-color: hsl(var(--success));
  }
  
  /* Negative/Short */
  .text-short {
    color: hsl(var(--destructive));
  }
  
  .bg-short {
    background-color: hsl(var(--destructive));
  }
  
  /* Price flash animations */
  .price-up {
    animation: flashGreen 400ms ease-out;
  }
  
  @keyframes flashGreen {
    0% { background-color: transparent; }
    30% { background-color: hsla(var(--success), 0.15); }
    100% { background-color: transparent; }
  }
  
  .price-down {
    animation: flashRed 400ms ease-out;
  }
  
  @keyframes flashRed {
    0% { background-color: transparent; }
    30% { background-color: hsla(var(--destructive), 0.15); }
    100% { background-color: transparent; }
  }
  
  /* ========== GEOMETRIC PANEL STYLES ========== */
  
  /* Clean minimal panel */
  .panel-minimal {
    @apply bg-card rounded-lg border border-border/50 p-6;
  }
  
  /* Elevated panel with subtle shadow */
  .panel-elevated {
    @apply bg-card rounded-xl border border-border/30 p-8 shadow-sm;
  }
  
  /* Ghost panel - no background, spacing-based */
  .panel-ghost {
    @apply bg-transparent border-none p-6;
  }
  
  /* ========== SCROLLBAR STYLING ========== */
  
  /* Minimal scrollbars */
  .scrollbar-minimal::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  .scrollbar-minimal::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .scrollbar-minimal::-webkit-scrollbar-thumb {
    background: hsl(var(--border));
    border-radius: 3px;
  }
  
  .scrollbar-minimal::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground));
  }
  
  /* ========== GLASSMORPHISM REMOVAL ========== */
  /* All glassmorphic effects removed - pure geometric design */
  
  /* ========== NUMORA-STYLE UTILITIES ========== */
  
  /* Panel styling - Numora grid panels */
  .numora-panel {
    @apply bg-card border border-border rounded-lg p-4 hover:border-border/50 transition-all duration-200;
  }
  
  .numora-panel-compact {
    @apply bg-card border border-border rounded-lg p-3 hover:border-border/50 transition-all duration-200;
  }
  
  .numora-panel-elevated {
    @apply bg-secondary border border-border/70 rounded-lg p-6 hover:border-border/50 transition-all duration-200;
  }
  
  /* Time range pills (1D, 7D, 3M, etc.) */
  .time-pill {
    @apply px-3 py-1.5 text-sm rounded-md transition-all duration-150;
    @apply text-foreground/70 bg-secondary hover:bg-secondary/80;
  }
  
  .time-pill-active {
    @apply bg-foreground/10 text-foreground font-medium;
  }
  
  /* Metric labels - uppercase small text */
  .metric-label {
    @apply text-xs uppercase tracking-wide text-foreground/60;
  }
  
  /* Large display numbers - monospace */
  .display-number-lg {
    @apply font-mono text-3xl font-semibold;
  }
  
  .display-number-xl {
    @apply font-mono text-5xl font-semibold tracking-tight;
  }
  
  /* Percentage badges */
  .percentage-badge {
    @apply inline-flex items-center px-2 py-1 rounded text-xs font-medium;
  }
  
  .percentage-badge-positive {
    @apply bg-success/10 text-success border border-success/20;
  }
  
  .percentage-badge-negative {
    @apply bg-destructive/10 text-destructive border border-destructive/20;
  }
  
  /* Token badges (USDT 35%, ETH 32%, etc.) */
  .token-badge {
    @apply inline-flex items-center gap-1.5 px-2 py-1 rounded bg-foreground/10 text-xs font-medium;
  }
  
  /* ========== FOCUS STATES ========== */
  
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 focus-visible:ring-offset-background;
  }
}

/* ========== SPECIFIC COMPONENT OVERRIDES ========== */

/* Remove excessive button rounding */
button {
  border-radius: var(--radius);
}

/* Ensure inputs have minimal styling */
input[type="text"],
input[type="number"],
input[type="email"],
input[type="password"],
textarea {
  @apply bg-input border border-border/50 rounded-md px-4 py-3 text-foreground placeholder:text-muted-foreground focus-ring transition-all duration-200;
}

/* Clean table styling */
table {
  @apply w-full;
}

th {
  @apply text-xs font-medium uppercase tracking-wide text-tertiary pb-3;
}

td {
  @apply py-3 text-sm;
}

tr {
  @apply border-b border-border/30 hover-elevate;
}

/* Minimal badge styling */
.badge {
  @apply inline-flex items-center px-2.5 py-1 text-xs font-medium rounded-md;
}

/* Print styles - ensure readability */
@media print {
  * {
    @apply text-black bg-white;
  }
}

/* ========== LEVERAGE SLIDER - HORIZONTAL ONLY ========== */
.leverage-slider-wrapper {
  position: relative;
  width: 100%;
  height: 40px;
  padding: 8px 0;
  display: block; /* Ensure block layout, not flex */
}

.leverage-slider-wrapper .ruler {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  pointer-events: none;
}

.leverage-slider-wrapper .ruler-mark {
  position: absolute;
  width: 1px;
  height: 4px;
  background: hsl(var(--muted-foreground) / 0.3);
  transform: translateX(-50%);
}

.leverage-slider-wrapper .ruler-mark-major {
  height: 8px;
  background: hsl(var(--muted-foreground) / 0.5);
}

.leverage-slider-wrapper .ruler-label {
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 10px;
  color: hsl(var(--text-tertiary));
  white-space: nowrap;
  font-family: var(--font-mono);
}

.leverage-slider-wrapper .track-glow,
.leverage-slider-wrapper .track-fill {
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  height: 4px;
  border-radius: 2px;
  pointer-events: none;
}

.leverage-slider-wrapper .track-glow {
  width: var(--lev-percentage);
  background: var(--lev-color);
  opacity: 0.3;
  filter: blur(4px);
}

.leverage-slider-wrapper .track-fill {
  width: var(--lev-percentage);
  background: var(--lev-color);
}

.leverage-slider-wrapper .leverage-input {
  position: absolute;
  top: 50%;
  left: 0;
  transform: translateY(-50%);
  width: 100%;
  height: 4px;
  -webkit-appearance: none;
  appearance: none;
  background: hsl(var(--border));
  border-radius: 2px;
  outline: none;
  cursor: pointer;
}

/* Horizontal slider thumb */
.leverage-slider-wrapper .leverage-input::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--lev-color);
  cursor: pointer;
  border: 2px solid hsl(var(--background));
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.leverage-slider-wrapper .leverage-input::-moz-range-thumb {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--lev-color);
  cursor: pointer;
  border: 2px solid hsl(var(--background));
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.leverage-slider-wrapper .leverage-value {
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  font-family: var(--font-mono);
  font-size: 11px;
  font-weight: 600;
  color: var(--lev-color);
  padding-left: 8px;
}

/* Hide scrollbars while keeping scroll functionality */
.no-scrollbar {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.no-scrollbar::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}
